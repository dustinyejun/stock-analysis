# 任务完成检查清单

## 代码开发完成后必须执行

### 1. 代码质量检查
- [ ] **代码格式检查**: 确保代码符合PEP8规范
- [ ] **类型检查**: 检查类型注解是否正确
- [ ] **导入检查**: 检查所有导入语句是否有效

### 2. 测试验证
- [ ] **单元测试**: 运行 `pytest tests/` 确保所有测试通过
- [ ] **覆盖率检查**: 确保测试覆盖率达到要求
- [ ] **集成测试**: 验证模块间集成功能正常

### 3. 功能验证
- [ ] **数据获取测试**: 验证能正常获取股票数据
- [ ] **指标计算测试**: 验证技术指标计算准确性
- [ ] **选股规则测试**: 验证选股逻辑正确性
- [ ] **端到端测试**: 完整流程功能验证

### 4. 性能检查
- [ ] **内存使用**: 检查内存占用是否合理
- [ ] **执行时间**: 验证关键操作性能
- [ ] **并发处理**: 测试多股票并行处理

### 5. 错误处理
- [ ] **异常处理**: 确保异常情况得到妥善处理
- [ ] **日志记录**: 关键操作都有适当的日志记录
- [ ] **重试机制**: 网络请求等操作有重试机制

### 6. 文档更新
- [ ] **代码注释**: 关键函数和类有适当注释
- [ ] **API文档**: 如果修改了接口，更新API文档
- [ ] **使用说明**: 更新相关的使用说明

## 关键命令
```bash
# 运行所有测试
pytest tests/ -v

# 检查代码覆盖率
pytest --cov=src tests/

# 验证数据获取功能
python -c "from src.data_fetcher import StockDataFetcher; print('Data fetcher works!')"

# 验证技术指标计算
python -c "from src.indicators import TechnicalIndicators; print('Indicators work!')"

# 完整功能测试
python scripts/test_full_pipeline.py
```

## 部署前检查
- [ ] **配置文件**: 确保生产环境配置正确
- [ ] **依赖完整**: requirements.txt包含所有必需依赖
- [ ] **数据库准备**: 数据库结构和初始数据准备就绪
- [ ] **环境变量**: 所有必需的环境变量已设置